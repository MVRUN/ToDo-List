(()=>{"use strict";var e={72:(e,t,s)=>{s.r(t)},438:(e,t,s)=>{s.r(t)},344:(e,t,s)=>{s.r(t)},537:(e,t,s)=>{s.r(t)},872:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(s(781)),r=a(s(605)),i=a(s(509));s(438);class d extends n.default{constructor(e,[t]){super(e,[t])}createHeader(){return this.container.appendChild(new i.default("h1",["header__title"]).createTitle()),this.container.appendChild(new r.default("nav",["header__navigation"]).createNavigation()),this.container}}t.default=d},605:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(s(781)),r=[{id:"new-task-page",text:"New task"},{id:"tasks-in-progress-page",text:"Task in progress"},{id:"completed-tasks-page",text:"Completed tasks"}];class i extends n.default{constructor(e,[t]){super(e,[t])}createPageButtons(){r.forEach((e=>{const t=document.createElement("a");t.href=`#${e.id}`,t.innerText=e.text,t.className="header__navigation-link",this.container.append(t)}))}createNavigation(){return this.createPageButtons(),this.container}}t.default=i},509:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(s(781));class r extends n.default{constructor(e,[t]){super(e,[t])}createTitle(){return this.container.innerHTML="ToDoList",this.container}}t.default=r},684:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(s(781)),r=s(0);class i extends n.default{constructor(e,t,s){super("div",["task-menu__buttons-wrapper"]),this.taskArr=[],this.arrForNextStep=[],this.taskId=t,this.taskValue=e,this.pageId=s}createButtons(){const e=document.createElement("button");e.classList.add("task-menu__button");const t=document.createElement("img");t.classList.add("task-menu__button-image"),t.src="./icon/delete.svg",e.appendChild(t),e.addEventListener("click",(()=>{this.removeCurrentTask(e)}));const s=document.createElement("button");s.classList.add("task-menu__button"),this.createNexStepButton(s),s.addEventListener("click",(()=>{this.removeCurrentTask(s)})),this.container.appendChild(e)}createNexStepButton(e){const t=document.createElement("img");switch(t.classList.add("task-menu__button-image"),e.appendChild(t),window.location.hash.slice(1)){case"completed-tasks-page":break;case"tasks-in-progress-page":t.src="./icon/completed.svg",e.addEventListener("click",(()=>{this.arrForNextStep=r.getTest("completedTasks"),this.arrForNextStep.push({value:this.taskValue,id:this.taskId}),r.postTest("completedTasks",this.arrForNextStep),this.arrForNextStep=[]})),this.container.appendChild(e);break;default:t.src="./icon/beginTask.svg",e.addEventListener("click",(()=>{this.arrForNextStep=r.getTest("tasksInProgress"),this.arrForNextStep.push({value:this.taskValue,id:this.taskId}),r.postTest("tasksInProgress",this.arrForNextStep),this.arrForNextStep=[]})),this.container.appendChild(e)}}removeCurrentTask(e){const t=e.closest(".task-menu__task");null==t||t.remove(),this.taskArr=r.getTest(this.pageId),this.taskArr.forEach(((e,t)=>{e.id===this.taskId&&this.taskArr.splice(t,1)})),r.postTest(this.pageId,this.taskArr),this.taskArr=[]}createButtonsWrapper(){return this.createButtons(),this.container}}t.default=i},210:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(s(781)),r=a(s(684));class i extends n.default{constructor(e,t,s){super("div",["task-menu__task"]),this.taskText=document.createElement("p"),this.taskText.classList.add("task-menu__description-task"),this.taskText.innerHTML=e,this.container.appendChild(this.taskText),this.container.appendChild(new r.default(e,t,s).createButtonsWrapper())}createTaskItem(){return this.container}}t.default=i},630:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(s(781));s(72);const r=a(s(210)),i=s(269),d=a(s(895));class o extends n.default{constructor(e,[t]){super(e,[t]),this.wrapper=document.createElement("div"),this.wrapper.classList.add("task-menu__task-wrapper")}addTasks(e,t){e.length>0&&(e.forEach((e=>this.wrapper.prepend(new r.default(e.value,e.id,t).createTaskItem()))),this.container.appendChild(this.wrapper))}addTaskItem(e,t,s){e&&this.wrapper.prepend(new r.default(e,t,s).createTaskItem())}addInputWrapper(){this.container.appendChild((new d.default).createInputWrapper())}createTaskWrapper(e,t){return this.addTasks(e,t),this.container.addEventListener("render",(()=>{this.addTaskItem(i.newTaskValue.value,i.newTaskValue.id,t),this.container.appendChild(this.wrapper)})),this.container}}t.default=o},9:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.bindRenderEvent=void 0,t.bindRenderEvent=e=>{const t=new CustomEvent("render",{bubbles:!0,cancelable:!1});e.dispatchEvent(t)}},269:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.newTaskValue=void 0,t.newTaskValue={value:"",id:0}},781:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,[t]){this.container=document.createElement(e),this.container.className=t}}},0:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.postTest=t.getTest=void 0,t.getTest=function(e){const t=localStorage.getItem(e);let s=[];return t&&(s=JSON.parse(t)),s},t.postTest=function(e,t){window.localStorage.setItem(e,JSON.stringify(t))}},607:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(s(894));s(344),(new n.default).run()},894:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(s(949)),r=a(s(930)),i=a(s(507)),d=a(s(872));class o{constructor(){this.header=new d.default("header",["header"])}static renderNewPages(e){const t=document.querySelector(`#${o.defaultPageId}`);switch(t&&t.remove(),e){case"tasks-in-progress-page":o.container.append(new r.default("main","main",o.defaultPageId).createInProgressTaskPage());break;case"completed-tasks-page":o.container.append(new i.default("main","main",o.defaultPageId).createCompletedTaskPage());break;default:o.container.append(new n.default("main","main",o.defaultPageId).createNewTaskPage())}}enableRouteChange(){window.addEventListener("hashchange",(()=>{const e=window.location.hash.slice(1);o.renderNewPages(e)}))}run(){o.container.appendChild(this.header.createHeader()),o.renderNewPages(window.location.hash.slice(1)),this.enableRouteChange()}}o.container=document.body,o.defaultPageId="current-page",t.default=o},507:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(s(630)),r=a(s(781)),i=s(0);class d extends r.default{constructor(e,t,s){super(e,[t]),this.taskArr=[],this.container.id=s,this.taskWrapper=new n.default("div",["task-menu"]),this.taskArr=i.getTest("completedTasks")}addSubTitle(){const e=document.createElement("h3");e.classList.add("task-menu__subtitle"),e.innerHTML="Completed tasks",this.container.appendChild(e)}createCompletedTaskPage(){return this.addSubTitle(),this.container.appendChild(this.taskWrapper.createTaskWrapper(this.taskArr,"completedTasks")),this.container}}t.default=d},930:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(s(630)),r=a(s(781)),i=s(0);class d extends r.default{constructor(e,t,s){super(e,[t]),this.taskArr=[],this.container.id=s,this.taskWrapper=new n.default("div",["task-menu"]),this.taskArr=i.getTest("tasksInProgress")}addSubTitle(){const e=document.createElement("h3");e.classList.add("task-menu__subtitle"),e.innerHTML="Tasks in progress",this.container.appendChild(e)}createInProgressTaskPage(){return this.addSubTitle(),this.container.appendChild(this.taskWrapper.createTaskWrapper(this.taskArr,"tasksInProgress")),this.container}}t.default=d},895:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(s(781)),r=s(9);s(537);const i=s(269),d=s(0);class o extends n.default{constructor(){super("div",["task-menu__input-wrapper"]),this.taskArr=[],this.input=document.createElement("input"),this.addButton=document.createElement("button")}addInputWrapperElements(){this.input.classList.add("task-menu__input"),this.addButton.classList.add("task-menu__button");const e=document.createElement("img");e.classList.add("task-menu__button-image"),e.src="./icon/addlist.svg",this.addButton.addEventListener("click",(()=>{if(this.input.value){this.taskArr=d.getTest("newTasks");const e=(new Date).getTime();i.newTaskValue.value=this.input.value,i.newTaskValue.id=e,this.taskArr.push({value:this.input.value,id:e}),d.postTest("newTasks",this.taskArr),this.taskArr=[],r.bindRenderEvent(this.addButton),this.input.value=""}})),this.addButton.appendChild(e),this.container.appendChild(this.input),this.container.appendChild(this.addButton)}createInputWrapper(){return this.addInputWrapperElements(),this.container}}t.default=o},949:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(s(630)),r=a(s(781)),i=s(0);class d extends r.default{constructor(e,t,s){super(e,[t]),this.taskArr=[],this.container.id=s,this.taskWrapper=new n.default("div",["task-menu"]),this.taskArr=i.getTest("newTasks")}addSubTitle(){const e=document.createElement("h3");e.classList.add("task-menu__subtitle"),e.innerHTML="Add new task",this.container.appendChild(e)}createNewTaskPage(){return this.addSubTitle(),this.taskWrapper.addInputWrapper(),this.container.appendChild(this.taskWrapper.createTaskWrapper(this.taskArr,"newTasks")),this.container}}t.default=d}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,s),r.exports}s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s(607)})();